{"version":3,"file":"commonHelpers.js","sources":["../src/api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst PIXABAY_API_KEY = '29782836-0cb6e5c5167e525a8102df66c';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n// axios.defaults.headers.common['key'] = PIXABAY_API_KEY;\n// let query = `yellow+flowers`;\n\n// async function fetchPhotos() {\n//   const url = `?key=${PIXABAY_API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true\n//   `;\n\n//   const { data } = await axios.get(url);\n//   return data;\n// }\n\nasync function fetchPhotosByQuery(query) {\n  const url = `?key=${PIXABAY_API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true\n  `;\n\n  const { data } = await axios.get(url);\n  return data;\n}\n\nexport { fetchPhotosByQuery };\n","import { fetchPhotosByQuery } from './api';\n\nconst searchFormEl = document.querySelector('form#search-form');\nconst galleryEl = document.querySelector('.gallery');\nconst textLoader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\n\nsearchFormEl.addEventListener('submit', handleSubmit);\n\nasync function getPhotoByQuery(query) {\n  try {\n    galleryEl.classList.add('hidden');\n    // containerInfo.classList.add('hidden');\n    textError.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchPhotosByQuery(query);\n    if (result) {\n      galleryEl.classList.remove('hidden');\n      //   containerInfo.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n  const query = evt.target[0]?.value;\n  console.log('query: ', query);\n  getPhotoByQuery(query)\n    .then(photosData => {\n      //   containerInfo.innerHTML = '';\n      console.log('photosData by query: ', photosData);\n\n      const { hits, total, totalHits } = photosData;\n\n      photosData.hits.map(photo => {\n        const markup = `<div class=\"photo-card\">\n    <img src=${photo.webformatURL} alt=${photo.tags} loading=\"lazy\" style={{\n        display: block,\n        width: 350px, \n        hight: 'auto'}}/>\n    <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes</b>\n            <p>${photo.likes}</p>\n        </p>\n            <p class=\"info-item\">\n        <b>Views</b>\n        <p>${photo.views}</p>\n        </p>\n        <p class=\"info-item\">\n            <b>Comments</b>\n            <p>${photo.comments}</p>\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads</b>\n            <p>${photo.downloads}</p>\n        </p>\n    </div>\n</div>`;\n        if (photo) {\n          galleryEl.classList.remove('hidden');\n        }\n        galleryEl.insertAdjacentHTML('afterend', markup);\n      });\n\n      //   const markup = `<div style=\"display: flex; flex-direction: row\">\n      //     <div\n      //       style=\"\n      //         margin-top: 30px;\n      //         margin-right: 30px;\n      //         width: 350px;\n      //         background-color: grey;\n      //         border-radius: 4px 4px 4px 4px;\n      //         box-shadow: 0px 2px 1px 0px rgba(46, 47, 66, 0.08),\n      //           0px 1px 1px 0px rgba(46, 47, 66, 0.16),\n      //           0px 1px 6px 0px rgba(46, 47, 66, 0.08);\n      //           overflow: hidden;\n      //       \"\n      //     >\n      //       <img\n      //         src=${cat[0].url}\n      //         alt=${cat[0].breeds[0].name}\n      //         style=\"\n      //           display: block;\n      //           width: 100%;\n      //         \"\n      //       />\n      //     </div>\n      //     <div style=\"display: block; margin-top: 30px\">\n      //       <h1 style=\"font-size: x-large; font-weight: 700; margin-bottom: 16px\">\n      //         ${cat[0].breeds[0].name}\n      //       </h1>\n      //       <p style=\"margin-bottom: 12px\">${cat[0].breeds[0].description}</p>\n      //       <p>\n      //         <span style=\"font-weight: 700; padding-right: 8px\">Temperament:</span>${cat[0]?.breeds[0]?.temperament}\n      //       </p>\n      //     </div>\n      //   </div>`;\n      //   if (cat) {\n      //     containerInfo.classList.remove('hidden');\n      //   }\n      //   containerInfo.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n      //   textError.classList.remove('hidden');\n    });\n}\n"],"names":["PIXABAY_API_KEY","axios","fetchPhotosByQuery","query","url","data","searchFormEl","galleryEl","textLoader","textError","handleSubmit","getPhotoByQuery","result","error","evt","_a","photosData","photo","markup"],"mappings":"svBAEA,MAAMA,EAAkB,qCAExBC,EAAM,SAAS,QAAU,2BAYzB,eAAeC,EAAmBC,EAAO,CACvC,MAAMC,EAAM,QAAQJ,OAAqBG;AAAA,IAGnC,CAAE,KAAAE,CAAI,EAAK,MAAMJ,EAAM,IAAIG,CAAG,EACpC,OAAOC,CACT,CCpBA,MAAMC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAEjDH,EAAa,iBAAiB,SAAUI,CAAY,EAEpD,eAAeC,EAAgBR,EAAO,CACpC,GAAI,CACFI,EAAU,UAAU,IAAI,QAAQ,EAEhCE,EAAU,UAAU,IAAI,QAAQ,EAChCD,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMI,EAAS,MAAMV,EAAmBC,CAAK,EAC7C,OAAIS,GACFL,EAAU,UAAU,OAAO,QAAQ,EAG9BK,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBJ,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEA,SAASE,EAAaI,EAAK,OACzBA,EAAI,eAAc,EAClB,MAAMX,GAAQY,EAAAD,EAAI,OAAO,KAAX,YAAAC,EAAe,MAC7B,QAAQ,IAAI,UAAWZ,CAAK,EAC5BQ,EAAgBR,CAAK,EAClB,KAAKa,GAAc,CAElB,QAAQ,IAAI,wBAAyBA,CAAU,EAI/CA,EAAW,KAAK,IAAIC,GAAS,CAC3B,MAAMC,EAAS;AAAA,eACRD,EAAM,oBAAoBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAO9BA,EAAM;AAAA;AAAA;AAAA;AAAA,aAIVA,EAAM;AAAA;AAAA;AAAA;AAAA,iBAIFA,EAAM;AAAA;AAAA;AAAA;AAAA,iBAINA,EAAM;AAAA;AAAA;AAAA,QAIXA,GACFV,EAAU,UAAU,OAAO,QAAQ,EAErCA,EAAU,mBAAmB,WAAYW,CAAM,CACvD,CAAO,CAuCP,CAAK,EACA,MAAML,GAAS,CACd,QAAQ,IAAIA,CAAK,CAEvB,CAAK,CACL"}